---
layout: default
title: Live View
---

<div x-data="live4thDown" x-init="startPolling()" class="live-container">
  <h1>Live 4th Down Decision</h1>
  <template x-if="lastDecision">
    <div class="decision-box">
      <p><strong>Game:</strong> <span x-text="lastDecision.game"></span></p>
      <p><strong>Quarter:</strong> <span x-text="lastDecision.quarter"></span></p>
      <p><strong>Clock:</strong> <span x-text="lastDecision.clock"></span></p>
      <p><strong>Down &amp; Distance:</strong> <span x-text="lastDecision.downDistance"></span></p>
      <p><strong>Recommendation:</strong> <span x-text="lastDecision.recommendation"></span></p>
    </div>
  </template>
  <template x-if="!lastDecision">
    <p>No live 4th down yet.</p>
  </template>
</div>

<script>
  document.addEventListener('alpine:init', () => {
    Alpine.data('live4thDown', () => ({
      lastDecision: null,
      intervalMs: 30000,
      startPolling() {
        this.poll();
        setInterval(() => this.poll(), this.intervalMs);
      },
      poll() {
        // Mocked placeholder â€” replace with live API call
        fetch('/GoForItBirds/assets/mock/fake_live_4th.json')
          .then(res => res.json())
          .then(data => {
            this.lastDecision = data;
          });
      }
    }));
  });
</script>